[
["intro.html", "Markdown/Bookdown Tutorial Chapter 1 Introduction 1.1 Directions to start a book (after downloading packages described) 1.2 Structure of book 1.3 Publishing the book to share with others 1.4 Other tips", " Markdown/Bookdown Tutorial Catarina Pien 2020-10-13 Chapter 1 Introduction 1.1 Directions to start a book (after downloading packages described) Open R Studio File - New Project - New Directory - New Book Project Save where you think it should be. To compile this example to PDF, you need XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): https://yihui.org/tinytex/. If you have errors when trying to compile the book, go to the debug website provided in your warnings. 1.2 Structure of book There will be multiple Rmd (R Markdown) files - one for each chapter. File naming: index.Rmd 01-yourchapter1title.Rmd 02-yourchapter2title.Rmd Each Rmd file contains one and only one chapter, and a chapter is defined by the first-level heading #. 1.3 Publishing the book to share with others See https://bookdown.org/yihui/bookdown/github.html for how to publish book All html output and source files (CSS, images, javascript) need to be in the docs folder. Option A: Add a “docs” folder to the folder all your Rmd files are in, then in your _bookdown.yml file, add the line output_dir: “docs” Option B: Change the directory \"_book\" to “docs” Also add a .nojekyll fill to your docs folder To compile your book: Option A: Use the “Build” tab (next to Environment and History) and click “Build Book” Option B: Create a .R file and use the command “render_book” to render your book (see RunBook.R) in my GitHub. Connect your book project to GitHub if you haven’t already. Add all files to GitHub. In your GitHub repo, go to Settings, GitHub Pages, change Source to master/ and /docs Your shareable link is displayed under GitHub Pages! GitHub Pages Instructions 1.4 Other tips If your book is not running and your error message is to do with latex: * In your _output.yml file: delete “bookdown::pdf_book: includes: in_header: preamble.tex latex_engine: xelatex citation_package: natbib keep_tex: yes” and replace the “bookdown::epub: default” with “bookdown::html_document2: default” * In your index.Rmd file, add “always_allow_html: yes” to the options at the top * epub: kindle books, probably don’t need this * default: if you don’t specify in “render_book” it will create your default "],
["RmdTools.html", "Chapter 2 Rmd Basics for crafting your document 2.1 Display 2.2 Organization 2.3 Tables 2.4 Images 2.5 In text References", " Chapter 2 Rmd Basics for crafting your document 2.1 Display 2.1.1 Font Italics: _text_ or *text* Bold: __text__ (two underscores) or **text** Subscripts e.g. H2O H~2~O 2.1.2 Blockquotes Use &gt; &gt; &quot;To sustainably manage the water resources of California, in cooperation with &gt; other agencies, to benefit the state&#39;s people and protect, restore, and enhance the &gt; natural and human environments.&quot; &gt; &gt; --- DWR “To sustainably manage the water resources of California, in cooperation with other agencies, to benefit the state’s people and protect, restore, and enhance the natural and human environments.” — DWR 2.1.3 Indent Text Use | | Here you can | indent and separate | lines | for fun | patterns | like | this Here you can indent and separate lines for fun patterns like this 2.1.4 Text in a gray block Enclose in ``` or indent by 4 spaces ``` Here is a chunk of code ``` Result: Here is a chunk of code 2.1.5 Equations Equations Surround with $ $a^2 + b^2 = c^2$ \\(a^2 + b^2 = c^2\\). Alternatively for a more complicated equation: \\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} (\\#eq:binom) \\end{equation} (The #eq:binom can be used to reference this equation later) \\[\\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} \\tag{2.1} \\end{equation}\\] 2.2 Organization 2.2.1 Headers: # Header 1 (Largest) ## Header 2 ### Header 3 Header with no numbering: ### Header {-} 2.2.2 Lists: 2.2.2.1 Use *, -, or + * peas * apples * carrots * baby * large * colored * orange peas apples carrots baby large colored orange 2.2.2.2 Use numbers: 1. Enter data 2. QAQC 3. Publish Data Enter data QAQC Publish Data 2.2.3 Tabs Use {.tabset} and header levels. Sub-headers (exactly one level down) will become tabs. ### Project {.tabset} #### Part A #### Part B 2.2.4 Code, Plotting, Captions 2.2.4.1 Code Insert R Chunk Write code in chunk Inserting R Chunk data(&quot;iris&quot;) summary(iris) ## Sepal.Length Sepal.Width Petal.Length Petal.Width ## Min. :4.300 Min. :2.000 Min. :1.000 Min. :0.100 ## 1st Qu.:5.100 1st Qu.:2.800 1st Qu.:1.600 1st Qu.:0.300 ## Median :5.800 Median :3.000 Median :4.350 Median :1.300 ## Mean :5.843 Mean :3.057 Mean :3.758 Mean :1.199 ## 3rd Qu.:6.400 3rd Qu.:3.300 3rd Qu.:5.100 3rd Qu.:1.800 ## Max. :7.900 Max. :4.400 Max. :6.900 Max. :2.500 ## Species ## setosa :50 ## versicolor:50 ## virginica :50 ## ## ## 2.2.4.2 Plot library(ggplot2) ggplot(iris, aes(x = Sepal.Length, y = Petal.Length)) + geom_point() 2.2.4.3 Figure options fig.align = “center” “right” “left” fig.asp = ratio of width:height, height is calculated from fig.width*fig.asp fig.margin = TRUE (place figure in figure margin) fig.fullwidth = TRUE (figure is across full width) fig.width fig.height fig.dim = c(8,6) (width, height) fig.link - add a link to the figure fig.cap = figure caption out.width, out.height - specify output size out.width = “50%” (can then include two figures side by side) out.width = 8 out.extra - miscellaneous out.extra = ‘angle=90’ 2.2.4.4 Image caption A normal paragraph. A scatterplot of the data iris using ggplot. A scatterplot of the data `cars` using **base** R graphics. ``` {r iris-fig, fig.cap=&#39;A scatterplot of the data iris using ggplot.&#39;} plot(cars) # a scatterplot ``` A normal paragraph. ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width)) + geom_point() Figure 2.1: A scatterplot of the data iris using ggplot. 2.3 Tables Use kable library(knitr) knitr::kable(head(iris), &quot;simple&quot;, caption = &quot;Table with caption&quot;) Table 2.1: Table with caption Sepal.Length Sepal.Width Petal.Length Petal.Width Species 5.1 3.5 1.4 0.2 setosa 4.9 3.0 1.4 0.2 setosa 4.7 3.2 1.3 0.2 setosa 4.6 3.1 1.5 0.2 setosa 5.0 3.6 1.4 0.2 setosa 5.4 3.9 1.7 0.4 setosa 2.4 Images ![Here are some baby salmon](salmon.jpg) Here are some baby salmon 2.5 In text References 2.5.1 Figure/Table/Chapter Table: \\@ref(tab:iris-table) Figure: \\@ref(fig:iris-fig) Chapter of this book: \\@ref(intro) See name of figure (iris-fig) You can label chapter and section titles using `{#label}` after them, e.g., we can reference Chapter \\@ref(intro). If you do not manually label them, there will be automatic labels anyway, e.g., Chapter \\@ref(RCoding). See table: 2.1 See figure: 2.1 Go to intro: 1 2.5.2 Citations You can write citations, too. For example, we are using the bookdown package (Xie 2020) in this sample book, which was built on top of R Markdown and knitr (Xie 2015). References "],
["RCoding.html", "Chapter 3 Coding 3.1 Chunks 3.2 Chunk details", " Chapter 3 Coding 3.1 Chunks Use “chunks” for code Surround by tick marks ``` Code here ``` ## Chunk details See 2 for more info 3.2 Chunk details Value What it does eval whether to evaluate the code echo whether to display code along with its results warning whether to display warnings error whether to display errors message whether to display messages tidy whether to reformat code in a tidy way when displaying results “markup”, “asis”, “hold”, “hide” cache whether to cache results for future renders comments comment character to preface results with fig.width default = 7 fig.height default = 7 "],
["interactive-tools.html", "Chapter 4 Interactive tools 4.1 Plotly 4.2 Leaflet", " Chapter 4 Interactive tools 4.1 Plotly Install plotly. 4.1.1 Code library(plotly) data(&quot;iris&quot;) summary(iris) ## Sepal.Length Sepal.Width Petal.Length Petal.Width ## Min. :4.300 Min. :2.000 Min. :1.000 Min. :0.100 ## 1st Qu.:5.100 1st Qu.:2.800 1st Qu.:1.600 1st Qu.:0.300 ## Median :5.800 Median :3.000 Median :4.350 Median :1.300 ## Mean :5.843 Mean :3.057 Mean :3.758 Mean :1.199 ## 3rd Qu.:6.400 3rd Qu.:3.300 3rd Qu.:5.100 3rd Qu.:1.800 ## Max. :7.900 Max. :4.400 Max. :6.900 Max. :2.500 ## Species ## setosa :50 ## versicolor:50 ## virginica :50 ## ## ## 4.1.2 Plot Different ways to code: plot_ly(iris, x = ~Sepal.Width, y = ~Sepal.Length, type = &quot;scatter&quot;, hoverinfo = &quot;text&quot;, text = ~paste(&#39;&lt;/br&gt; Species: &#39;, Species, &#39;&lt;/br&gt; Petal Length: &#39;, Petal.Length, &#39;&lt;/br&gt; Petal Width: &#39;, Petal.Width)) iris %&gt;% plot_ly(x = ~Sepal.Length, y = ~Petal.Length) %&gt;% add_lines() p &lt;- ggplot(iris, aes(x = Sepal.Width, y = Sepal.Length)) + facet_wrap(~Species) + geom_point() ggplotly(p) 4.2 Leaflet Install leaflet. library(leaflet) library(viridis) library(lubridate) Stations &lt;- read.csv(&quot;StationsMetadata.csv&quot;) summary(Stations) ## Station StationName StartDateDataset EndDateDataset ## Length:138 Length:138 Length:138 Length:138 ## Class :character Class :character Class :character Class :character ## Mode :character Mode :character Mode :character Mode :character ## ## ## ## Agency Latitude Longitude HydrologicArea ## Length:138 Min. :37.65 Min. :-122.1 Length:138 ## Class :character 1st Qu.:37.84 1st Qu.:-121.7 Class :character ## Mode :character Median :38.04 Median :-121.6 Mode :character ## Mean :38.02 Mean :-121.6 ## 3rd Qu.:38.16 3rd Qu.:-121.5 ## Max. :38.79 Max. :-121.1 ## Basin County HabitatType ## Length:138 Length:138 Length:138 ## Class :character Class :character Class :character ## Mode :character Mode :character Mode :character ## ## ## Station2 &lt;- Stations %&gt;% mutate(Year1 = year(as.Date(StartDateDataset, format = &quot;%m/%d/%Y&quot;)), Year2 = year(as.Date(EndDateDataset, format = &quot;%m/%d/%Y&quot;)), Range = Year2-Year1) Make map - Color by factor # Palette from viridis staPal &lt;- colorFactor(&quot;viridis&quot;, domain = Stations$Agency) Stations %&gt;% # name of data leaflet() %&gt;% addTiles() %&gt;% addCircleMarkers( color = ~staPal(Agency), stroke = FALSE, fillOpacity = 0.9, lng = ~Longitude, lat = ~Latitude, labelOptions = labelOptions(noHide = F), popup = ~paste(Station, &quot;:&quot;, StationName, &quot;&lt;br/&gt;&quot;, &quot;Agency:&quot;, Agency)) %&gt;% addLegend(pal = staPal, values = ~Agency, position = &quot;bottomright&quot;) Make map - size and color by numeric staPal2 &lt;- colorNumeric(&quot;viridis&quot;, domain = Station2$Range) Station2 %&gt;% leaflet() %&gt;% addTiles() %&gt;% addCircleMarkers( color = ~staPal2(Range), radius = ~Range, stroke = FALSE, fillOpacity = 0.5, lng = ~Longitude, lat = ~Latitude, labelOptions = labelOptions(noHide = F), popup = ~paste(Station, &quot;:&quot;, StationName, &quot;&lt;br/&gt;&quot;, &quot;Agency:&quot;, Agency)) %&gt;% addLegend(pal = staPal2, values = ~Range, position = &quot;bottomright&quot;) "],
["references.html", "References 4.3 Bookdown 4.4 RMarkdown 4.5 Plotly Annotations and Labels 4.6 Leaflet 4.7 Example Book", " References 4.3 Bookdown https://rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf https://bookdown.org/yihui/rmarkdown/ https://github.com/rstudio/bookdown-demo 4.4 RMarkdown Handy cheatsheet: https://rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf Rosie’s tutorial: https://cawater.sharepoint.com/teams/des-owq-ee/Shared%20Documents/Forms/AllItems.aspx?csf=1&amp;web=1&amp;e=Rzuj2c&amp;cid=3e988094-c52e-4997-bb80-d748370a6d0e&amp;RootFolder=%2Fteams%2Fdes-owq-ee%2FShared%20Documents%2FGuides%20and%20Procedures%2FRMarkdown%20Tutorial&amp;FolderCTID=0x012000D268E5AEEC570C48A762CD4EB78D71AA Chunk options: https://yihui.org/knitr/options/ 4.5 Plotly Annotations and Labels https://plotly.com/r/text-and-annotations/ 4.6 Leaflet https://allthisblog.wordpress.com/2016/10/12/r-311-with-leaflet-tutorial/ https://learn.r-journalism.com/en/mapping/leaflet_maps/leaflet/ 4.7 Example Book https://interagencyecologicalprogram.github.io/Status-and-Trends/Summer.html#recent-trends-summer-2004-2018 Xie, Yihui. 2015. Dynamic Documents with R and Knitr. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. http://yihui.org/knitr/. ———. 2020. Bookdown: Authoring Books and Technical Documents with R Markdown. https://github.com/rstudio/bookdown. "]
]
